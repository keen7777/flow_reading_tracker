<div class="reading-page">
  <h2>Reading Page</h2>

  <!-- 文件上传 -->
  <div class="text-upload">
    <label>Upload Reading Text:</label>
    <input type="file" (change)="onFileSelected($event)" />
  </div>


  <!-- 分页按钮 -->
  <div class="pagination">
    <button (click)="prevPage()" [disabled]="currentPageSignal() <= 1">Previous</button>
    <span>Page {{ currentPageSignal() }} / {{ totalPages }}</span>
    <button (click)="nextPage()" [disabled]="currentPageSignal() >= totalPages">Next</button>
  </div>

  <!-- test text display -->
  <text-display [text]="getCurrentPageWords().join(' ')" (wordSelected)="handleWordSelected($event)"></text-display>


  <!-- reading progress -->
  <div class="progress">
    Progress: {{ getProgressPercent() | number:'1.0-1' }} %
  </div>

  <!-- word table component -->
  <app-vocabulary-table [words]="wordTableSignal()" [allowDelete]="true" (deleteWord)="deleteWord($event)">
  </app-vocabulary-table>


  <!-- word table 导入/导出 -->
  <div class="word-table-controls">
    <button (click)="exportWordTable()">Export Word Table</button>
    <label>Import Word Table:</label>
    <input type="file" (change)="onImportFile($event)" />
  </div>